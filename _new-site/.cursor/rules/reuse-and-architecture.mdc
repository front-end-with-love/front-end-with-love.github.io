---
description: Повторное использование кода и следование архитектуре проекта
alwaysApply: true
---

# Повторное использование и архитектура

При работе с кодом:

1. **Перед написанием нового кода** — проверь наличие готовых решений в проекте:
   - **Фронт:** компоненты в `shared/ui`, `entities`, `features`, `widgets`; в `pages` — готовые страницы и их композиции.
   - **Бэкенд (Python):** сервисы в `app/services/`, роуты в `app/routers/`, общая логика и промпты в `app/core/`, WebSocket в `app/websocket/`, конфиг в `app/config.py`, зависимости в `app/dependencies.py`.
   Избегай дублирования: ищи по смыслу и по именам модулей.
2. **Модульность и поддерживаемость** — соблюдай читаемость, выноси логику в отдельные модули/композиции, не раздувай файлы. Облегчай поддержку и масштабирование.
3. **Стандарты проекта** — придерживайся описанной архитектуры и организации файлов:
   - **Фронт (Vue):** жёсткое и бесприкословное следование архитектуре **FSD 2.0** (Feature-Sliced Design). Слои и слайсы: `app`, `pages`, `widgets`, `features`, `entities`, `shared`. Импортировать слайс только через его публичный API (например `index.ts`), не из внутренних путей слайса. Запрет импортов из вышележащих слоёв и из соседних слайсов того же слоя — обязательно.
   - **Архитектура и расположение модулей:** [docs/PROJECT_OVERVIEW.md](docs/PROJECT_OVERVIEW.md) — бэкенд `app/`, роутеры, сервисы; фронт в соответствии с FSD 2.0 (API в `entities/*/api`, `features/*/api` и т.д.).
   - **Стиль кода:** конфиги линтера и форматера (`.eslintrc.cjs`, `.prettierrc.json` — в корне `_new-site/`) и существующий код в репозитории как образец.

При сомнении, куда положить новый код или какой компонент переиспользовать — сверяйся с PROJECT_OVERVIEW и структурой папок. Подробнее по FSD 2.0: https://feature-sliced.design
